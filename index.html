<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Birthday Surprise</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <style>
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      z-index: -2;
    }

    .bg-photos {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 200%;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      grid-auto-rows: 80px;
      gap: 10px;
      animation: scrollBackground 60s linear infinite;
      opacity: 0.08;
      z-index: -1;
    }

    .bg-photos img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
    }

    @keyframes scrollBackground {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-50%);
      }
    }

    .move-button {
      position: absolute;
    }

    #slideshow {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    #slideshow::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.4);
      z-index: 1;
    }

    #slideImg {
      max-width: 90%;
      max-height: 90%;
      z-index: 2;
      position: relative;
    }

    #heartGrid img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      aspect-ratio: 1/1;
    }

    #heartGrid {
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    }

    @media (min-width: 768px) {
      #heartGrid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      }
    }

    #fireworkContainer {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 50;
    }

    .firework {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: pink;
      animation: explode 1s ease-out forwards;
    }

    @keyframes explode {
      0% {transform: scale(0); opacity: 1;}
      100% {transform: scale(3); opacity: 0;}
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex items-center justify-center flex-col">
  <div class="bg-photos"></div>

  <audio id="birthdayAudio" autoplay loop>
    <source src="happy.mp3" type="audio/mpeg">
  </audio>

  <div id="fireworkContainer"></div>

  <div id="intro" class="text-center p-4">
    <h1 class="text-2xl mb-4">Haii nyet, lu masih sayang sama gue ga sih?</h1>
    <button id="yesBtn" class="bg-pink-500 text-white px-4 py-2 rounded m-2">Yes, love ‚ù§Ô∏è</button>
    <button id="noBtn" class="bg-gray-700 text-white px-4 py-2 rounded m-2 move-button">Nope üôÑ</button>
  </div>

  <div id="birthdayMsg" class="hidden text-center p-4" data-aos="fade-in">
    <h2 class="text-3xl text-pink-400 font-bold mb-4">Happy Birthday, nyet! üéâ</h2>
    <p class="text-lg">May your day be filled with joy, memories, and lots of love üíñ</p>
    <p class="text-lg">btw ada beberapa foto-foto lu dengan segala mood wkwk , yang mewek ga gue taruh sih</p>
    <img src="./photos/photo1.png" class="w-40 sm:w-52 md:w-60 max-h-60 object-contain mx-auto border-2 border-pink-300 shadow-md rounded-lg" alt="Main Photo">
    <button id="nextBtn" class="bg-blue-500 text-white px-4 py-2 rounded mt-4">Next</button>
    <h3 class="text-2xl text-pink-200 font-bold mb-4">BTW kado belum ada, kadonya doa dulu, tar bentuk fisik nya nyusul atau lu mau request juga gapapa, chat aja request apaan tar gw usahain</h3>
  </div>

  <div id="slideshow" class="hidden flex items-center justify-center bg-black">
    <img id="slideImg" src="" alt="Memory" class="rounded-lg shadow-lg border-4 border-pink-500 transition duration-500 ease-in-out object-contain" />
  </div>

  <div id="heartGrid" class="hidden grid gap-2 p-4 w-full max-w-6xl"></div>

  <script>
    AOS.init();

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const intro = document.getElementById("intro");
    const birthdayMsg = document.getElementById("birthdayMsg");
    const nextBtn = document.getElementById("nextBtn");
    const slideshow = document.getElementById("slideshow");
    const slideImg = document.getElementById("slideImg");
    const heartGrid = document.getElementById("heartGrid");
    const fireworkContainer = document.getElementById("fireworkContainer");
    const audio = document.getElementById("birthdayAudio");
    const bgContainer = document.querySelector(".bg-photos");

    const photos = [];
    const bgPhotos = [];

    for (let i = 1; i <= 50; i++) {
      const jpg = `photos/photo${i}.jpg`;
      const png = `photos/photo${i}.png`;

      const img = new Image();
      img.onload = function () {
        photos.push(jpg);
        bgPhotos.push(jpg);
      };
      img.onerror = function () {
        const fallback = new Image();
        fallback.onload = function () {
          photos.push(png);
          bgPhotos.push(png);
        };
        fallback.src = png;
      };
      img.src = jpg;
    }

    // Fill background with looping images
    setTimeout(() => {
      for (let i = 0; i < 100; i++) {
        const src = bgPhotos[i % bgPhotos.length];
        const img = document.createElement("img");
        img.src = src;
        bgContainer.appendChild(img);
      }
      // Duplicate for seamless scroll
      bgContainer.innerHTML += bgContainer.innerHTML;
    }, 1000);

    noBtn.addEventListener("mouseover", () => {
      noBtn.style.top = `${Math.random() * 80 + 10}%`;
      noBtn.style.left = `${Math.random() * 80 + 10}%`;
    });

    yesBtn.addEventListener("click", () => {
      alert("yahahaha sama , cie cie wkwk");
      intro.classList.add("hidden");
      birthdayMsg.classList.remove("hidden");
      launchFireworks();
      audio.play().catch(() => {});
    });

    nextBtn.addEventListener("click", () => {
      birthdayMsg.classList.add("hidden");
      slideshow.classList.remove("hidden");
      startSlideshow();
    });

    function startSlideshow() {
      let index = 0;
      const interval = setInterval(() => {
        if (photos[index]) {
          slideImg.src = photos[index];
        }
        index++;
        if (index >= photos.length) {
          clearInterval(interval);
          slideshow.classList.add("hidden");
          showFinalGallery();
        }
      }, 1000);
    }

    function showFinalGallery() {
      heartGrid.innerHTML = "";
      heartGrid.classList.remove("hidden");

      photos.forEach(src => {
        const img = document.createElement("img");
        img.src = src;
        img.className = "rounded-xl border-2 border-pink-300 shadow-md hover:scale-105 transition-transform duration-300";
        heartGrid.appendChild(img);
      });

      setTimeout(() => {
        const answer = confirm("Balikan ga nih? üíñ");
        if (answer) {
          alert("ngga ko canda canda wkwk, gue ga pantes wkwk, nyet jaga diri ya semoga panjang umur sehat selalu, lancar dalam segala hal , dilancarkan rezekinya , lebih giat lagi belajarnya jangan kebanyakan main katanya mau kuliah, gue cuma bisa bantu doa wkwkwk, last jangan petakilan jaga diri, i will love you forever.");
        } else {
          alert("wkwk canda doang ko , jaga kesehatan ya nyet jaga diri ya semoga panjang umur sehat selalu, lancar dalam segala hal , dilancarkan rezekinya , lebih giat lagi belajarnya jangan kebanyakan main katanya mau kuliah, gue cuma bisa bantu doa wkwkwk, last jangan petakilan jaga diri, i will love you forever.");
        }
      }, 3000);
    }

    function launchFireworks() {
      for (let i = 0; i < 20; i++) {
        const f = document.createElement("div");
        f.className = "firework";
        f.style.top = `${Math.random() * 100}%`;
        f.style.left = `${Math.random() * 100}%`;
        f.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
        fireworkContainer.appendChild(f);
        setTimeout(() => f.remove(), 1000);
      }
    }
  </script>
</body>
</html>
